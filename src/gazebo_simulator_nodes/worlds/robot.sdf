<sdf version="1.6">
<model name='vehicle_blue' canonical_link='chassis'>
    <pose>0 0 0 0 0 0</pose>
        <link name='chassis'>
        <pose relative_to='__model__'>0.5 0 0.4 0 0 0</pose>
        
        <inertial> <!--inertial properties of the link mass, inertia matix-->
          <mass>1.14395</mass>
          <inertia>
              <ixx>0.095329</ixx>
              <ixy>0</ixy>
              <ixz>0</ixz>
              <iyy>0.381317</iyy>
              <iyz>0</iyz>
              <izz>0.476646</izz>
          </inertia>
        </inertial>
        <visual name='visual'>
          <geometry>
              <box>
                  <size>2.0 1.0 0.5</size>
              </box>
          </geometry>
          <!--let's add color to our link-->
          <material>
              <ambient>0.0 0.0 1.0 1</ambient>
              <diffuse>0.0 0.0 1.0 1</diffuse>
              <specular>0.0 0.0 1.0 1</specular>
          </material>
        </visual>
        <collision name='collision'>
            <geometry>
                <box>
                    <size>2.0 1.0 0.5</size>
                </box>
            </geometry>
        </collision>
        </link>

        <link name='camera'>
            <pose relative_to='__model__'>1.5 0 0.5 0 0 0</pose>
            <inertial>
              <mass>1.14395</mass>
              <inertia>
                  <ixx>0.095329</ixx>
                  <ixy>0</ixy>
                  <ixz>0</ixz>
                  <iyy>0.381317</iyy>
                  <iyz>0</iyz>
                  <izz>0.476646</izz>
              </inertia>
            </inertial>
            <visual name='visual'>
              <geometry>
                  <box>
                      <size>0.2 0.2 0.2</size>
                  </box>
              </geometry>
              <material>
                  <ambient>0.0 1.0 0.0 1</ambient>
                  <diffuse>0.0 1.0 0.0 1</diffuse>
                  <specular>0.0 1.0 0.0 1</specular>
              </material>
            </visual>
            <collision name='collision'>
                <geometry>
                    <box>
                        <size>0.2 0.2 0.2</size>
                    </box>
                </geometry>
            </collision>
          
            <sensor name='camera' type='camera'>
              <pose>0 0 0 0 0 0</pose>
              <topic>camera</topic>
              <update_rate>30</update_rate>
              <enable_metrics>false</enable_metrics>
              <camera name='__default__'>
                <pose>0 0 0 0 0 0</pose>
                <horizontal_fov>1.0469999999999999</horizontal_fov>
                <image>
                  <width>320</width>
                  <height>240</height>
                  <format>RGB_INT8</format>
                  <anti_aliasing>4</anti_aliasing>
                </image>
                <camera_info_topic>__default__</camera_info_topic>
                <trigger_topic></trigger_topic>
                <triggered>false</triggered>
                <clip>
                  <near>0.10000000000000001</near>
                  <far>100</far>
                </clip>
                <save enabled='false'>
                  <path>__default__</path>
                </save>
                <visibility_mask>4294967295</visibility_mask>
                <noise>
                  <type>none</type>
                  <mean>0</mean>
                  <stddev>0</stddev>
                </noise>
                <distortion>
                  <k1>0</k1>
                  <k2>0</k2>
                  <k3>0</k3>
                  <p1>0</p1>
                  <p2>0</p2>
                  <center>0.5 0.5</center>
                </distortion>
                <lens>
                  <type>stereographic</type>
                  <scale_to_hfov>true</scale_to_hfov>
                  <cutoff_angle>1.5708</cutoff_angle>
                  <env_texture_size>256</env_texture_size>
                </lens>
                <optical_frame_id></optical_frame_id>
              </camera>
            </sensor>
        </link>

        <joint name='camera_servo_joint' type='revolute'>
            <pose relative_to='camera'/>
            <parent>chassis</parent>
            <child>camera</child>
            <axis>
                <xyz>0 1 0</xyz>
                <limit>
                    <!-- <lower>-0.1745</lower> -->
                    <lower>-1.57076</lower>
                    <upper>0.1745</upper>
                </limit>
                <effort>
                    <min>-10</min>
                    <max>10</max>
                </effort>
            </axis>
        </joint>

        <plugin name="ignition::gazebo::systems::JointController" filename="libignition-gazebo-joint-controller-system.so">
            <joint_name>camera_servo_joint</joint_name>
        </plugin>
        

        <include>
            <name>left_front_wheel</name>
            <uri>/home/daniel/ros2_ws/src/gazebo_simulator_nodes/worlds/wheel.sdf</uri>
            <pose relative_to="chassis">-0.5 0.6 0 -1.5707 0 0</pose>
        </include>

        <joint name='left_front_wheel_joint' type='revolute'>
            <pose relative_to='left_front_wheel'/>
            <parent>chassis</parent>
            <child>left_front_wheel::wheel</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-1.79769e+308</lower>
                    <upper>1.79769e+308</upper>
                </limit>
            </axis>
        </joint>

        <include>
            <name>right_front_wheel</name>
            <uri>/home/daniel/ros2_ws/src/gazebo_simulator_nodes/worlds/wheel.sdf</uri>
            <pose relative_to="chassis">-0.5 -0.6 0 -1.5707 0 0</pose>
        </include>

        <joint name='right_front_wheel_joint' type='revolute'>
            <pose relative_to='right_front_wheel'/>
            <parent>chassis</parent>
            <child>right_front_wheel::wheel</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-1.79769e+308</lower>
                    <upper>1.79769e+308</upper>
                </limit>
            </axis>
        </joint>

        <include>
            <name>left_rear_wheel</name>
            <uri>/home/daniel/ros2_ws/src/gazebo_simulator_nodes/worlds/wheel.sdf</uri>
            <pose relative_to="chassis">0.5 0.6 0 -1.5707 0 0</pose>
        </include>

        <joint name='left_rear_wheel_joint' type='revolute'>
            <pose relative_to='left_rear_wheel'/>
            <parent>chassis</parent>
            <child>left_rear_wheel::wheel</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-1.79769e+308</lower>
                    <upper>1.79769e+308</upper>
                </limit>
            </axis>
        </joint>

        <include>
            <name>right_rear_wheel</name>
            <uri>/home/daniel/ros2_ws/src/gazebo_simulator_nodes/worlds/wheel.sdf</uri>
            <pose relative_to="chassis">0.5 -0.6 0 -1.5707 0 0</pose>
        </include>

        <joint name='right_rear_wheel_joint' type='revolute'>
            <pose relative_to='right_rear_wheel'/>
            <parent>chassis</parent>
            <child>right_rear_wheel::wheel</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-1.79769e+308</lower>
                    <upper>1.79769e+308</upper>
                </limit>
            </axis>
        </joint>

    <plugin name='ignition::gazebo::systems::DiffDrive' filename='libignition-gazebo-diff-drive-system.so'>
    <left_joint>left_front_wheel_joint</left_joint>
    <right_joint>right_front_wheel_joint</right_joint>
    <wheel_separation>1.25</wheel_separation>
    <wheel_radius>0.3</wheel_radius>
    <odom_publish_frequency>1</odom_publish_frequency>
    </plugin>

    <plugin name='ignition::gazebo::systems::DiffDrive' filename='libignition-gazebo-diff-drive-system.so'>
        <left_joint>left_rear_wheel_joint</left_joint>
        <right_joint>right_rear_wheel_joint</right_joint>
        <wheel_separation>1.25</wheel_separation>
        <wheel_radius>0.3</wheel_radius>
        <odom_publish_frequency>1</odom_publish_frequency>
    </plugin>

</model>
</sdf>